(function(_ds){var window=this;var YHa=function(a){let b=a,c;return function(){if(b){const d=b;b=void 0;c=d.apply(this,arguments)}return c}};var hV=function(a,b,c){return a.j.then(function(d){const e=d[b];if(!e)throw Error(`Method not found: ${b}`);return e.apply(d,c)})},ZHa=class{constructor(a){this.j=a;a.then((0,_ds.xg)(function(){},this),()=>{},this)}},$Ha=function(a,b,c){const d=Array(arguments.length-2);for(var e=2;e<arguments.length;e++)d[e-2]=arguments[e];e=iV(a,b).then(f=>f.apply(null,d),f=>{f=Error(`Help service failed to load serviceFactory: ${b} from serviceUrl:${a}. Underlying error: ${f}`,{cause:f});delete jV[b];return _ds.hda(f)});
return new ZHa(e)},jV={},iV=function(a,b){var c=jV[b];if(c)return c;c=(c=_ds.Ng(b))?_ds.gda(c):(new _ds.um(function(d,e){const f=(new _ds.Vj(document)).createElement("SCRIPT");f.async=!0;_ds.vf(f,_ds.Ze(_ds.Lj(a)));f.onload=f.onreadystatechange=function(){f.readyState&&f.readyState!="loaded"&&f.readyState!="complete"||d()};f.onerror=g=>{e(Error(`Could not load ${b} Help API from ${a}`,{cause:g}))};(document.head||document.getElementsByTagName("head")[0]).appendChild(f)})).then(function(){const d=
_ds.Ng(b);if(!d)throw Error(`Failed to load ${b} from ${a}`);return d});return jV[b]=c};var aIa={GOOGLE:"https://www.google.com",QW:"https://support.google.com",VV:"https://play.google.com"},bIa=async function(a){for(const b of Object.values(aIa))try{(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:b})).state!=="granted"&&a.j.push(b)}catch(c){break}};(new class{constructor(){this.j=[];this.m=[];this.oa=YHa(async()=>{if(typeof document==="undefined"||document.requestStorageAccessFor===void 0||navigator.permissions===void 0||navigator.permissions.query===void 0||location.hostname.match(".+\\.google\\.com$"))return Promise.resolve();await bIa(this);this.j.length>0&&document.addEventListener("click",this.o)});this.o=()=>{if(!(this.m.length>0)){for(const a of this.j)try{this.m.push(document.requestStorageAccessFor(a))}catch(b){}Promise.all(this.m).then(()=>
{}).catch(()=>{}).finally(()=>{this.reset()})}}}reset(){document.removeEventListener("click",this.o)}}).oa();var cIa=class{constructor(a){this.j=a}oa(a){hV(this.j,"requestSurvey",arguments).ea(()=>{},this)}o(a){hV(this.j,"presentSurvey",arguments).ea(()=>{},this)}m(a){hV(this.j,"dismissSurvey",arguments).ea(()=>{},this)}},kV=_ds.Mj("https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");iV(kV,"help.service.Lazy.create").ea(()=>{});var lV=function(){return"devsite-hats-survey"},pV=function(){if(mV){let a;(a=nV)==null||a.m({surveyMetadata:{sessionId:mV}});return oV.promise}return Promise.resolve()},dIa=async function(a){var b=await _ds.v(),c=b.getConfig();var d=_ds.z(c,18);(c=a.getAttribute("listnr-id"))?(b={locale:b.getLocale()||"en",apiKey:d},b=$Ha(kV,"help.service.Lazy.create",c,{apiKey:b.apiKey||b.apiKey,asxUiUri:b.asxUiUri||b.asxUiUri,environment:b.environment||b.environment,flow:b.flow||b.flow,frdProductData:b.frdProductData||
b.frdProductData,frdProductDataSerializedJspb:b.RX||b.frdProductDataSerializedJspb,helpCenterPath:b.helpCenterPath||b.helpCenterPath,locale:b.locale||b.locale||"id".replace(/-/g,"_"),nonce:b.nonce||b.nonce,productData:b.productData||b.productData,receiverUri:b.receiverUri||b.receiverUri,renderApiUri:b.renderApiUri||b.renderApiUri,theme:b.theme||b.theme,window:b.window||b.window}),nV=new cIa(b),a.j=nV):console.warn('<devsite-hats-survey> missing attribute "listnr-id"')},eIa=function(a,b){let c;(c=
a.j)==null||c.o({productData:{customData:{pageUrl:_ds.C().toString()}},surveyData:b,colorScheme:1,authuser:0,customZIndex:1E4,listener:{surveyPrompted:d=>{mV=d.sessionId||null;oV=new _ds.og;qV=oV.resolve},surveyClosed:()=>{mV=rV=null;qV()}}})},tV=class extends _ds.tj{constructor(a){super();this.j=null;a&&(this.j=nV=a)}async connectedCallback(){rV=this;const a=this.getAttribute("hats-id");a&&a!==sV&&(await pV(),this.j||await dIa(this),sV=a,await this.So(a))}disconnectedCallback(){rV=null;fIa.Kb(document.body,
"devsite-page-changed",()=>{rV||(pV(),sV=null)})}async So(a){await _ds.v();let b;(b=this.j)==null||b.oa({triggerId:a,callback:c=>{c.surveyData&&eIa(this,c.surveyData)},authuser:0,enableTestingMode:!1})}};tV.prototype.renderSurvey=tV.prototype.So;tV.prototype.disconnectedCallback=tV.prototype.disconnectedCallback;tV.prototype.connectedCallback=tV.prototype.connectedCallback;tV.closeCurrentSurvey=pV;tV.getTagName=lV;var sV=null,mV=null,rV=null,oV=new _ds.og,qV=oV.resolve,fIa=new _ds.D,nV=void 0;try{customElements.define(lV(),tV)}catch(a){console.warn("devsite.app.customElement.DevsiteHatsSurvey",a)};})(_ds_www);
